{"version":3,"sources":["../../../src/client/components/layout-router.tsx"],"names":["OuterLayoutRouter","walkAddRefetch","segmentPathToWalk","treeToRecreate","segment","parallelRouteKey","isLast","length","matchSegment","hasOwnProperty","subTree","undefined","slice","findDOMNode","instance","window","process","env","NODE_ENV","originalConsoleError","console","error","messages","includes","ReactDOM","topOfElementInViewport","element","viewportHeight","rect","getBoundingClientRect","top","getHashFragmentDomNode","hashFragment","document","body","getElementById","getElementsByName","ScrollAndFocusHandler","React","Component","componentDidMount","handlePotentialScroll","componentDidUpdate","props","focusAndScrollRef","apply","render","children","segmentPaths","some","segmentPath","every","index","domNode","HTMLElement","handleSmoothScroll","scrollTo","offsetTop","htmlElement","documentElement","clientHeight","scrollTop","scrollIntoView","dontForceLayout","focus","InnerLayoutRouter","parallelRouterKey","url","childNodes","childProp","tree","cacheKey","context","useContext","GlobalLayoutRouterContext","Error","changeByServerResponse","fullTree","childNode","get","current","status","CacheStates","LAZY_INITIALIZED","READY","subTreeData","set","data","parallelRoutes","Map","refetchTree","DATA_FETCH","fetchServerResponse","URL","location","origin","nextUrl","head","flightData","overrideCanonicalUrl","use","href","setTimeout","startTransition","createInfinitePromise","subtree","LayoutRouterContext","Provider","value","LoadingBoundary","loading","loadingStyles","hasLoading","Suspense","fallback","errorStyles","templateStyles","template","notFound","notFoundStyles","asNotFound","styles","childNodesForParallelRouter","treeSegment","childPropSegment","currentChildSegmentValue","getSegmentValue","preservedSegments","map","preservedSegment","isChildPropSegment","preservedSegmentValue","createRouterCacheKey","TemplateContext","key","ErrorBoundary","errorComponent","NotFoundBoundary","RedirectBoundary","isActive"],"mappings":"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"}