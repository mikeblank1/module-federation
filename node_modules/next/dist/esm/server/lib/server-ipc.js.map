{"version":3,"sources":["../../../src/server/lib/server-ipc.ts"],"names":["genExecArgv","getNodeOptionsWithoutInspect","deserializeErr","errorToJSON","isError","createIpcServer","server","ipcServer","require","createServer","req","res","url","URL","method","searchParams","get","args","JSON","parse","Array","isArray","end","stack","result","stringify","err","code","console","error","name","message","ipcPort","Promise","resolveIpc","listen","hostname","addr","address","port","createWorker","serverPort","isNodeDebugging","type","initialEnv","Worker","worker","resolve","numWorkers","maxRetries","forkOptions","env","FORCE_COLOR","NODE_OPTIONS","replace","trim","__NEXT_PRIVATE_RENDER_WORKER","__NEXT_PRIVATE_ROUTER_IPC_PORT","NODE_ENV","process","execArgv","undefined","exposedMethods","getStderr","pipe","stderr","getStdout","stdout","forbiddenHeaders","filterReqHeaders","headers","key","value","Object","entries","includes","invokeRequest","targetUrl","requestInit","readableBody","parsedUrl","invokeHeaders","invokeRes","resolveInvoke","rejectInvoke","http","invokeReq","request","on"],"mappings":"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"}