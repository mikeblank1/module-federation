{"version":3,"sources":["../../../../../src/server/future/route-modules/app-route/module.ts"],"names":["RouteModule","RequestAsyncStorageWrapper","StaticGenerationAsyncStorageWrapper","handleBadRequestResponse","handleInternalServerErrorResponse","HTTP_METHODS","isHTTPMethod","patchFetch","getTracer","AppRouteRouteHandlersSpan","getPathnameFromAbsolutePath","proxyRequest","resolveHandlerError","RouteKind","Log","autoImplementMethods","getNonStaticMethods","AppRouteRouteModule","constructor","userland","pathname","resolvedPagePath","nextConfigOutput","hasSetup","definition","kind","APP_ROUTE","page","bundlePath","filename","methods","nonStaticMethods","dynamic","Error","setup","process","env","NODE_ENV","lowercased","map","method","toLowerCase","error","toUpperCase","some","resolve","execute","request","context","handler","requestContext","req","staticGenerationContext","renderOpts","supportsDynamicHTML","fetchCache","response","wrap","requestAsyncStorage","staticGenerationAsyncStorage","staticGenerationStore","staticGenerationBailout","join","forceDynamic","forceStatic","dynamicShouldError","revalidate","wrappedRequest","headerHooks","serverHooks","route","getRootSpanAttributes","set","trace","runHandler","spanName","attributes","res","params","Promise","all","pendingRevalidates","Response","headers","has","get","handle","err"],"mappings":"AAKA,SACEA,WAAW,QAGN,kBAAiB;AACxB,SACEC,0BAA0B,QAErB,uDAAsD;AAC7D,SACEC,mCAAmC,QAE9B,iEAAgE;AACvE,SACEC,wBAAwB,EACxBC,iCAAiC,QAC5B,+BAA8B;AACrC,SAA2BC,YAAY,EAAEC,YAAY,QAAQ,oBAAmB;AAChF,SAASC,UAAU,QAAQ,2BAA0B;AACrD,SAASC,SAAS,QAAQ,4BAA2B;AACrD,SAASC,yBAAyB,QAAQ,+BAA8B;AACxE,SAASC,2BAA2B,QAAQ,4CAA2C;AACvF,SAASC,YAAY,QAAQ,0BAAyB;AACtD,SAASC,mBAAmB,QAAQ,kCAAiC;AACrE,SAASC,SAAS,QAAQ,mBAAkB;AAC5C,YAAYC,SAAS,+BAA8B;AACnD,SAASC,oBAAoB,QAAQ,mCAAkC;AACvE,SAASC,mBAAmB,QAAQ,mCAAkC;AA8DtE;;CAEC,GACD,OAAO,MAAMC,4BAA4BjB;IAavCkB,YAAY,EACVC,SAAQ,EACRC,SAAQ,EACRC,iBAAgB,EAChBC,iBAAgB,EACW,CAAE;QAC7B,KAAK,CAAC;YAAEH;QAAS;QAmCnB;;;GAGC,QACOI,WAAoB,KAAK;QArC/B,IAAI,CAACC,UAAU,GAAG;YAChBC,MAAMZ,UAAUa,SAAS;YACzBN;YACA,qDAAqD;YACrDO,MAAM;YACNC,YAAY;YACZC,UAAU;QACZ;QAEA,IAAI,CAACT,QAAQ,GAAGA;QAChB,IAAI,CAACC,gBAAgB,GAAGA;QACxB,IAAI,CAACC,gBAAgB,GAAGA;QAExB,yEAAyE;QACzE,mBAAmB;QACnB,IAAI,CAACQ,OAAO,GAAGf,qBAAqBI;QAEpC,6CAA6C;QAC7C,IAAI,CAACY,gBAAgB,GAAGf,oBAAoBG;QAE5C,qDAAqD;QACrD,IAAI,CAACa,OAAO,GAAG,IAAI,CAACb,QAAQ,CAACa,OAAO;QACpC,IAAI,IAAI,CAACV,gBAAgB,KAAK,UAAU;YACtC,IAAI,CAAC,IAAI,CAACU,OAAO,IAAI,IAAI,CAACA,OAAO,KAAK,QAAQ;gBAC5C,IAAI,CAACA,OAAO,GAAG;YACjB,OAAO,IAAI,IAAI,CAACA,OAAO,KAAK,iBAAiB;gBAC3C,MAAM,IAAIC,MACR,CAAC,gDAAgD,EAAEb,SAAS,wHAAwH,CAAC,EACtL;YACH,CAAC;QACH,CAAC;IACH;IAQA;;;GAGC,GACD,MAAac,QAAQ;QACnB,uCAAuC;QACvC,IAAI,IAAI,CAACX,QAAQ,EAAE;QAEnB,sEAAsE;QACtE,4EAA4E;QAC5E,wEAAwE;QACxE,oEAAoE;QACpE,IAAI,CAACA,QAAQ,GAAG,IAAI;QAEpB,oEAAoE;QACpE,eAAe;QACf,IAAIY,QAAQC,GAAG,CAACC,QAAQ,KAAK,eAAe;YAC1C,6EAA6E;YAC7E,oCAAoC;YACpC,MAAMC,aAAajC,aAAakC,GAAG,CAAC,CAACC,SAAWA,OAAOC,WAAW;YAClE,KAAK,MAAMD,UAAUF,WAAY;gBAC/B,IAAIE,UAAU,IAAI,CAACrB,QAAQ,EAAE;oBAC3BL,IAAI4B,KAAK,CACP,CAAC,2BAA2B,EAAEF,OAAO,MAAM,EACzC,IAAI,CAACnB,gBAAgB,CACtB,yBAAyB,EAAEmB,OAAOG,WAAW,GAAG,gCAAgC,CAAC;gBAEtF,CAAC;YACH;YAEA,2EAA2E;YAC3E,gCAAgC;YAChC,IAAI,aAAa,IAAI,CAACxB,QAAQ,EAAE;gBAC9BL,IAAI4B,KAAK,CACP,CAAC,4BAA4B,EAAE,IAAI,CAACrB,gBAAgB,CAAC,sDAAsD,CAAC;YAEhH,CAAC;YAED,0EAA0E;YAC1E,YAAY;YACZ,IAAI,CAAChB,aAAauC,IAAI,CAAC,CAACJ,SAAWA,UAAU,IAAI,CAACrB,QAAQ,GAAG;gBAC3DL,IAAI4B,KAAK,CACP,CAAC,6BAA6B,EAAE,IAAI,CAACrB,gBAAgB,CAAC,8CAA8C,CAAC;YAEzG,CAAC;QACH,CAAC;IACH;IAEA;;;;;GAKC,GACD,AAAQwB,QAAQL,MAAc,EAAqB;QACjD,yEAAyE;QACzE,IAAI,CAAClC,aAAakC,SAAS,OAAOrC;QAElC,sBAAsB;QACtB,OAAO,IAAI,CAAC2B,OAAO,CAACU,OAAO;IAC7B;IAEA;;GAEC,GACD,MAAcM,QACZC,OAAoB,EACpBC,OAAoC,EACjB;QACnB,iDAAiD;QACjD,MAAMC,UAAU,IAAI,CAACJ,OAAO,CAACE,QAAQP,MAAM;QAE3C,mCAAmC;QACnC,MAAMU,iBAAiC;YACrCC,KAAKJ;QACP;QAEA,6CAA6C;QAC7C,MAAMK,0BAAmD;YACvDhC,UAAU,IAAI,CAACI,UAAU,CAACJ,QAAQ;YAClCiC,YACE,oEAAoE;YACpE,sBAAsB;YACtBL,QAAQI,uBAAuB,IAAI;gBACjCE,qBAAqB,KAAK;YAC5B;QACJ;QAEA,+CAA+C;QAC/CF,wBAAwBC,UAAU,CAACE,UAAU,GAAG,IAAI,CAACpC,QAAQ,CAACoC,UAAU;QAExE,0EAA0E;QAC1E,wEAAwE;QACxE,+CAA+C;QAC/C,MAAMC,WAAoB,MAAMvD,2BAA2BwD,IAAI,CAC7D,IAAI,CAACC,mBAAmB,EACxBR,gBACA;YACEhD,OAAAA,oCAAoCuD,IAAI,CACtC,IAAI,CAACE,4BAA4B,EACjCP,yBACA,CAACQ,wBAA0B;oBAqDzBpD;oBApBA,kEAAkE;gBAClE,oEAAoE;gBACpE,8BAA8B;gBAC9BoD;gBAnCA,mEAAmE;gBACnE,6BAA6B;gBAC7B,IAAI,IAAI,CAAC7B,gBAAgB,EAAE;oBACzB,IAAI,CAAC8B,uBAAuB,CAC1B,CAAC,wBAAwB,EAAE,IAAI,CAAC9B,gBAAgB,CAAC+B,IAAI,CAAC,MAAM,CAAC;gBAEjE,CAAC;gBAED,oEAAoE;gBACpE,OAAQ,IAAI,CAAC9B,OAAO;oBAClB,KAAK;wBACH,6DAA6D;wBAC7D,gCAAgC;wBAChC4B,sBAAsBG,YAAY,GAAG,IAAI;wBACzC,IAAI,CAACF,uBAAuB,CAAC,CAAC,aAAa,CAAC,EAAE;4BAC5C7B,SAAS,IAAI,CAACA,OAAO;wBACvB;wBACA,KAAK;oBACP,KAAK;wBACH,4DAA4D;wBAC5D,+BAA+B;wBAC/B4B,sBAAsBI,WAAW,GAAG,IAAI;wBACxC,KAAK;oBACP,KAAK;wBACH,8DAA8D;wBAC9D,mDAAmD;wBACnDJ,sBAAsBK,kBAAkB,GAAG,IAAI;wBAC/C,KAAK;oBACP;wBACE,KAAK;gBACT;gBAKAL,CAAAA,yBAAAA,uBAAsBM,eAAtBN,uBAAsBM,aACpB,IAAI,CAAC/C,QAAQ,CAAC+C,UAAU,IAAI,KAAK;gBAEnC,mEAAmE;gBACnE,yDAAyD;gBACzD,MAAMC,iBAAiBxD,aACrBoC,SACA;oBAAEf,SAAS,IAAI,CAACA,OAAO;gBAAC,GACxB;oBACEoC,aAAa,IAAI,CAACA,WAAW;oBAC7BC,aAAa,IAAI,CAACA,WAAW;oBAC7BR,yBAAyB,IAAI,CAACA,uBAAuB;gBACvD;gBAGF,mDAAmD;gBACnD,MAAMS,QAAQ5D,4BAA4B,IAAI,CAACW,gBAAgB;gBAC/Db,CAAAA,mCAAAA,YAAY+D,qBAAqB,cAAjC/D,KAAAA,IAAAA,iCAAqCgE,IAAI,cAAcF;gBACvD,OAAO9D,YAAYiE,KAAK,CACtBhE,0BAA0BiE,UAAU,EACpC;oBACEC,UAAU,CAAC,0BAA0B,EAAEL,MAAM,CAAC;oBAC9CM,YAAY;wBACV,cAAcN;oBAChB;gBACF,GACA,UAAY;oBACV,0BAA0B;oBAC1B/D,WAAW;wBACT8D,aAAa,IAAI,CAACA,WAAW;wBAC7BV,8BACE,IAAI,CAACA,4BAA4B;oBACrC;oBACA,MAAMkB,MAAM,MAAM5B,QAAQkB,gBAAgB;wBACxCW,QAAQ9B,QAAQ8B,MAAM;oBACxB;oBAEA,MAAMC,QAAQC,GAAG,CACfpB,sBAAsBqB,kBAAkB,IAAI,EAAE;oBAEhD,OAAOJ;gBACT;YAEJ;;QAIN,yEAAyE;QACzE,kBAAkB;QAClB,IAAI,CAAErB,CAAAA,oBAAoB0B,QAAO,GAAI;YACnC,qEAAqE;YACrE,OAAO9E;QACT,CAAC;QAED,IAAIoD,SAAS2B,OAAO,CAACC,GAAG,CAAC,yBAAyB;YAChD,oEAAoE;YACpE,6EAA6E;YAC7E,MAAM,IAAInD,MACR,sIACD;QAED,6EAA6E;QAC7E,iEAAiE;QAEjE,2EAA2E;QAC3E,6EAA6E;QAC7E,0EAA0E;QAC1E,mCAAmC;QACnC,sBAAsB;QACtB,8CAA8C;QAC9C,IAAI;QAEJ,yEAAyE;QACzE,gDAAgD;QAChD,oEAAoE;QACpE,0DAA0D;QAC1D,qEAAqE;QACrE,yDAAyD;QAC3D,CAAC;QAED,IAAIuB,SAAS2B,OAAO,CAACE,GAAG,CAAC,yBAAyB,KAAK;YACrD,iEAAiE;YACjE,MAAM,IAAIpD,MACR,gLACD;QACH,CAAC;QAED,OAAOuB;IACT;IAEA,MAAa8B,OACXvC,OAAoB,EACpBC,OAAoC,EACjB;QACnB,IAAI;YACF,yCAAyC;YACzC,MAAMQ,WAAW,MAAM,IAAI,CAACV,OAAO,CAACC,SAASC;YAE7C,uCAAuC;YACvC,OAAOQ;QACT,EAAE,OAAO+B,KAAK;YACZ,+DAA+D;YAC/D,MAAM/B,WAAW5C,oBAAoB2E;YACrC,IAAI,CAAC/B,UAAU,MAAM+B,IAAG;YAExB,wCAAwC;YACxC,OAAO/B;QACT;IACF;AACF,CAAC;AAED,eAAevC,oBAAmB"}