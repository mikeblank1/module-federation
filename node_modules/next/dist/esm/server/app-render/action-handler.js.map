{"version":3,"sources":["../../../src/server/app-render/action-handler.ts"],"names":["ACTION","isNotFoundError","getURLFromRedirectError","isRedirectError","RenderResult","ActionRenderResult","handleAction","req","res","ComponentMod","pathname","serverActionsManifest","actionId","headers","toLowerCase","contentType","isFormAction","method","isMultipartAction","startsWith","isFetchAction","undefined","bound","workerName","decodeReply","process","env","NEXT_RUNTIME","webRequest","body","Error","actionData","reader","getReader","done","value","read","TextDecoder","decode","formData","URLSearchParams","get","delete","formFields","FormData","busboy","require","bb","innerResolvor","innerRejector","promise","Promise","resolve","reject","on","err","id","val","append","pipe","Proxy","_","node","workers","name","chunks","parseBody","$$id","actionModId","actionHandler","__next_app_webpack_require__","returnVal","apply","result","JSON","stringify","redirectUrl","statusCode","setHeader","message"],"mappings":"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"}