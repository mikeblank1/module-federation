{"version":3,"sources":["../../../src/build/analysis/get-page-static-info.ts"],"names":["promises","fs","LRUCache","matcher","extractExportedConstValue","UnsupportedValueError","parseModule","Log","SERVER_RUNTIME","checkCustomRoutes","tryToParsePath","isAPIRoute","isEdgeRuntime","RSC_MODULE_TYPES","CLIENT_MODULE_LABEL","ACTION_MODULE_LABEL","getRSCModuleInformation","source","isServerLayer","clientInfoMatch","actions","match","split","isClientRef","type","client","clientRefs","clientEntryType","server","checkExports","swcAST","Array","isArray","body","runtime","ssr","ssg","node","declaration","declarations","id","value","init","includes","identifier","values","specifiers","map","specifier","orig","some","err","tryToReadFile","filePath","shouldThrow","readFile","encoding","error","getMiddlewareMatchers","matcherOrMatchers","nextConfig","matchers","push","i18n","originalSourceMap","Map","routes","m","middleware","set","r","isRoot","locales","locale","basePath","rest","parsedPage","regexStr","Error","originalSource","get","regexp","getMiddlewareConfig","pageFilePath","config","result","regions","warn","unstable_allowDynamic","unstable_allowDynamicGlobs","glob","message","apiRouteWarnings","max","warnAboutExperimentalEdge","apiRoute","has","warnedUnsupportedValueMap","warnAboutUnsupportedValue","page","path","getPageStaticInfo","params","isDev","pageType","fileContent","test","rsc","e","warnOnce","resolvedRuntime","nodejs","options","Object","join","requiresServerRuntime","isAnAPIRoute","replace","undefined","experimentalEdge","edge","middlewareConfig"],"mappings":"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"}