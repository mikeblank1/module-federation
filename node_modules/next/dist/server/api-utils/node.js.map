{"version":3,"sources":["../../../src/server/api-utils/node.ts"],"names":["tryGetPreviewData","parseBody","apiResolver","req","res","options","cookies","checkIsOnDemandRevalidate","isOnDemandRevalidate","SYMBOL_PREVIEW_DATA","headers","HeadersAdapter","from","RequestCookies","previewModeId","get","COOKIE_NAME_PRERENDER_BYPASS","value","tokenPreviewData","COOKIE_NAME_PRERENDER_DATA","clearPreviewData","encryptedPreviewData","jsonwebtoken","require","verify","previewModeSigningKey","decryptWithSecret","decryptedPreviewData","Buffer","previewModeEncryptionKey","data","JSON","parse","Object","defineProperty","enumerable","parseJson","str","length","e","ApiError","limit","contentType","type","parameters","encoding","charset","buffer","getRawBody","isError","body","toString","qs","decode","getMaxContentLength","responseLimit","bytes","RESPONSE_LIMIT_DEFAULT","sendData","undefined","end","statusCode","removeHeader","process","env","NODE_ENV","console","warn","url","getHeader","Stream","setHeader","pipe","isJSONLike","includes","stringifiedBody","stringify","etag","generateETag","sendEtagResponse","isBuffer","byteLength","sendJson","jsonBody","send","isNotValidData","setPreviewData","Error","encryptWithSecret","payload","sign","algorithm","maxAge","expiresIn","serialize","previous","Array","isArray","httpOnly","sameSite","secure","path","revalidate","urlPath","opts","context","startsWith","revalidateHeaders","PRERENDER_REVALIDATE_HEADER","unstable_onlyGenerated","PRERENDER_REVALIDATE_ONLY_GENERATED_HEADER","allowedRevalidateHeaderKeys","trustHostHeader","key","keys","fetch","host","method","cacheHeader","toUpperCase","status","mocked","createRequestResponseMocks","hasStreamed","err","message","query","resolverModule","apiContext","propagateError","dev","page","apiReq","apiRes","config","getTracer","bodyParser","api","externalResolver","setLazyProp","getCookieParser","previewData","sizeLimit","contentLength","maxContentLength","writeData","write","endResponse","args","apply","format","sendStatusCode","json","redirect","statusOrUrl","assign","resolver","interopDefault","wasPiped","once","getRootSpanAttributes","set","apiRouteResult","trace","NodeSpan","runHandler","spanName","Response","isResSent","sendError","error"],"mappings":";;;;;;;;;;;IAuCgBA,iBAAiB;eAAjBA;;IAkGMC,SAAS;eAATA;;IAqSAC,WAAW;eAAXA;;;kBA3auC;8DAK3C;sBACW;6BACI;wBACV;6BACD;gEACF;uBACM;gCACK;uBAaxB;6BACoC;wBACjB;2BACD;yBACM;yBACA;4BAIxB;;;;;;AAEA,SAASF,kBACdG,GAAgD,EAChDC,GAAsC,EACtCC,OAA0B,EACb;QAgBSC,cACGA;IAhBzB,0DAA0D;IAC1D,cAAc;IACd,IAAID,WAAWE,IAAAA,2BAAyB,EAACJ,KAAKE,SAASG,oBAAoB,EAAE;QAC3E,OAAO,KAAK;IACd,CAAC;IAED,sCAAsC;IACtC,iDAAiD;IACjD,IAAIC,0BAAmB,IAAIN,KAAK;QAC9B,OAAO,AAACA,GAAW,CAACM,0BAAmB,CAAC;IAC1C,CAAC;IAED,MAAMC,UAAUC,uBAAc,CAACC,IAAI,CAACT,IAAIO,OAAO;IAC/C,MAAMJ,UAAU,IAAIO,uBAAc,CAACH;IAEnC,MAAMI,gBAAgBR,CAAAA,eAAAA,QAAQS,GAAG,CAACC,mCAA4B,aAAxCV,KAAAA,IAAAA,aAA2CW,KAAK;IACtE,MAAMC,mBAAmBZ,CAAAA,gBAAAA,QAAQS,GAAG,CAACI,iCAA0B,aAAtCb,KAAAA,IAAAA,cAAyCW,KAAK;IAEvE,+BAA+B;IAC/B,IAAI,CAACH,iBAAiB,CAACI,kBAAkB;QACvC,OAAO,KAAK;IACd,CAAC;IAED,8CAA8C;IAC9C,IAAI,CAACJ,iBAAiB,CAACI,kBAAkB;QACvCE,IAAAA,uBAAgB,EAAChB;QACjB,OAAO,KAAK;IACd,CAAC;IAED,6CAA6C;IAC7C,IAAIU,kBAAkBT,QAAQS,aAAa,EAAE;QAC3CM,IAAAA,uBAAgB,EAAChB;QACjB,OAAO,KAAK;IACd,CAAC;IAED,IAAIiB;IAGJ,IAAI;QACF,MAAMC,eACJC,QAAQ;QACVF,uBAAuBC,aAAaE,MAAM,CACxCN,kBACAb,QAAQoB,qBAAqB;IAEjC,EAAE,OAAM;QACN,aAAa;QACbL,IAAAA,uBAAgB,EAAChB;QACjB,OAAO,KAAK;IACd;IAEA,MAAM,EAAEsB,kBAAiB,EAAE,GACzBH,QAAQ;IACV,MAAMI,uBAAuBD,kBAC3BE,OAAOhB,IAAI,CAACP,QAAQwB,wBAAwB,GAC5CR,qBAAqBS,IAAI;IAG3B,IAAI;QACF,qCAAqC;QACrC,MAAMA,OAAOC,KAAKC,KAAK,CAACL;QACxB,eAAe;QACfM,OAAOC,cAAc,CAAC/B,KAAKM,0BAAmB,EAAE;YAC9CQ,OAAOa;YACPK,YAAY,KAAK;QACnB;QACA,OAAOL;IACT,EAAE,OAAM;QACN,OAAO,KAAK;IACd;AACF;AAEA;;;CAGC,GACD,SAASM,UAAUC,GAAW,EAAU;IACtC,IAAIA,IAAIC,MAAM,KAAK,GAAG;QACpB,qEAAqE;QACrE,OAAO,CAAC;IACV,CAAC;IAED,IAAI;QACF,OAAOP,KAAKC,KAAK,CAACK;IACpB,EAAE,OAAOE,GAAG;QACV,MAAM,IAAIC,eAAQ,CAAC,KAAK,gBAAe;IACzC;AACF;AAMO,eAAevC,UACpBE,GAAoB,EACpBsC,KAAgB,EACF;IACd,IAAIC;IACJ,IAAI;QACFA,cAAcV,IAAAA,kBAAK,EAAC7B,IAAIO,OAAO,CAAC,eAAe,IAAI;IACrD,EAAE,OAAM;QACNgC,cAAcV,IAAAA,kBAAK,EAAC;IACtB;IACA,MAAM,EAAEW,KAAI,EAAEC,WAAU,EAAE,GAAGF;IAC7B,MAAMG,WAAWD,WAAWE,OAAO,IAAI;IAEvC,IAAIC;IAEJ,IAAI;QACF,MAAMC,aACJzB,QAAQ;QACVwB,SAAS,MAAMC,WAAW7C,KAAK;YAAE0C;YAAUJ;QAAM;IACnD,EAAE,OAAOF,GAAG;QACV,IAAIU,IAAAA,gBAAO,EAACV,MAAMA,EAAEI,IAAI,KAAK,oBAAoB;YAC/C,MAAM,IAAIH,eAAQ,CAAC,KAAK,CAAC,cAAc,EAAEC,MAAM,MAAM,CAAC,EAAC;QACzD,OAAO;YACL,MAAM,IAAID,eAAQ,CAAC,KAAK,gBAAe;QACzC,CAAC;IACH;IAEA,MAAMU,OAAOH,OAAOI,QAAQ;IAE5B,IAAIR,SAAS,sBAAsBA,SAAS,uBAAuB;QACjE,OAAOP,UAAUc;IACnB,OAAO,IAAIP,SAAS,qCAAqC;QACvD,MAAMS,KAAK7B,QAAQ;QACnB,OAAO6B,GAAGC,MAAM,CAACH;IACnB,OAAO;QACL,OAAOA;IACT,CAAC;AACH;AAQA,SAASI,oBAAoBC,aAA6B,EAAE;IAC1D,IAAIA,iBAAiB,OAAOA,kBAAkB,WAAW;QACvD,OAAOC,cAAK,CAACxB,KAAK,CAACuB;IACrB,CAAC;IACD,OAAOE,6BAAsB;AAC/B;AAEA;;;;;CAKC,GACD,SAASC,SAASvD,GAAmB,EAAEC,GAAoB,EAAE8C,IAAS,EAAQ;IAC5E,IAAIA,SAAS,IAAI,IAAIA,SAASS,WAAW;QACvCvD,IAAIwD,GAAG;QACP;IACF,CAAC;IAED,gCAAgC;IAChC,IAAIxD,IAAIyD,UAAU,KAAK,OAAOzD,IAAIyD,UAAU,KAAK,KAAK;QACpDzD,IAAI0D,YAAY,CAAC;QACjB1D,IAAI0D,YAAY,CAAC;QACjB1D,IAAI0D,YAAY,CAAC;QAEjB,IAAIC,QAAQC,GAAG,CAACC,QAAQ,KAAK,iBAAiBf,MAAM;YAClDgB,QAAQC,IAAI,CACV,CAAC,yDAAyD,EAAEhE,IAAIiE,GAAG,CAAC,6CAA6C,CAAC,GAChH,CAAC,2EAA2E,CAAC;QAEnF,CAAC;QACDhE,IAAIwD,GAAG;QACP;IACF,CAAC;IAED,MAAMlB,cAActC,IAAIiE,SAAS,CAAC;IAElC,IAAInB,gBAAgBoB,cAAM,EAAE;QAC1B,IAAI,CAAC5B,aAAa;YAChBtC,IAAImE,SAAS,CAAC,gBAAgB;QAChC,CAAC;QACDrB,KAAKsB,IAAI,CAACpE;QACV;IACF,CAAC;IAED,MAAMqE,aAAa;QAAC;QAAU;QAAU;KAAU,CAACC,QAAQ,CAAC,OAAOxB;IACnE,MAAMyB,kBAAkBF,aAAa1C,KAAK6C,SAAS,CAAC1B,QAAQA,IAAI;IAChE,MAAM2B,OAAOC,IAAAA,kBAAY,EAACH;IAC1B,IAAII,IAAAA,6BAAgB,EAAC5E,KAAKC,KAAKyE,OAAO;QACpC;IACF,CAAC;IAED,IAAIjD,OAAOoD,QAAQ,CAAC9B,OAAO;QACzB,IAAI,CAACR,aAAa;YAChBtC,IAAImE,SAAS,CAAC,gBAAgB;QAChC,CAAC;QACDnE,IAAImE,SAAS,CAAC,kBAAkBrB,KAAKZ,MAAM;QAC3ClC,IAAIwD,GAAG,CAACV;QACR;IACF,CAAC;IAED,IAAIuB,YAAY;QACdrE,IAAImE,SAAS,CAAC,gBAAgB;IAChC,CAAC;IAEDnE,IAAImE,SAAS,CAAC,kBAAkB3C,OAAOqD,UAAU,CAACN;IAClDvE,IAAIwD,GAAG,CAACe;AACV;AAEA;;;;CAIC,GACD,SAASO,SAAS9E,GAAoB,EAAE+E,QAAa,EAAQ;IAC3D,iCAAiC;IACjC/E,IAAImE,SAAS,CAAC,gBAAgB;IAE9B,6BAA6B;IAC7BnE,IAAIgF,IAAI,CAACrD,KAAK6C,SAAS,CAACO;AAC1B;AAEA,SAASE,eAAehD,GAAW,EAAW;IAC5C,OAAO,OAAOA,QAAQ,YAAYA,IAAIC,MAAM,GAAG;AACjD;AAEA,SAASgD,eACPlF,GAAuB,EACvB0B,IAAqB,EACrBzB,OAGqB,EACD;IACpB,IAAIgF,eAAehF,QAAQS,aAAa,GAAG;QACzC,MAAM,IAAIyE,MAAM,oCAAmC;IACrD,CAAC;IACD,IAAIF,eAAehF,QAAQwB,wBAAwB,GAAG;QACpD,MAAM,IAAI0D,MAAM,+CAA8C;IAChE,CAAC;IACD,IAAIF,eAAehF,QAAQoB,qBAAqB,GAAG;QACjD,MAAM,IAAI8D,MAAM,4CAA2C;IAC7D,CAAC;IAED,MAAMjE,eACJC,QAAQ;IACV,MAAM,EAAEiE,kBAAiB,EAAE,GACzBjE,QAAQ;IACV,MAAMkE,UAAUnE,aAAaoE,IAAI,CAC/B;QACE5D,MAAM0D,kBACJ5D,OAAOhB,IAAI,CAACP,QAAQwB,wBAAwB,GAC5CE,KAAK6C,SAAS,CAAC9C;IAEnB,GACAzB,QAAQoB,qBAAqB,EAC7B;QACEkE,WAAW;QACX,GAAItF,QAAQuF,MAAM,KAAKjC,YACnB;YAAEkC,WAAWxF,QAAQuF,MAAM;QAAC,IAC5BjC,SAAS;IACf;IAGF,qEAAqE;IACrE,+CAA+C;IAC/C,IAAI8B,QAAQnD,MAAM,GAAG,MAAM;QACzB,MAAM,IAAIiD,MACR,CAAC,0GAA0G,CAAC,EAC7G;IACH,CAAC;IAED,MAAM,EAAEO,UAAS,EAAE,GACjBvE,QAAQ;IACV,MAAMwE,WAAW3F,IAAIiE,SAAS,CAAC;IAC/BjE,IAAImE,SAAS,CAAC,CAAC,UAAU,CAAC,EAAE;WACtB,OAAOwB,aAAa,WACpB;YAACA;SAAS,GACVC,MAAMC,OAAO,CAACF,YACdA,WACA,EAAE;QACND,UAAU9E,mCAA4B,EAAEX,QAAQS,aAAa,EAAE;YAC7DoF,UAAU,IAAI;YACdC,UAAUpC,QAAQC,GAAG,CAACC,QAAQ,KAAK,gBAAgB,SAAS,KAAK;YACjEmC,QAAQrC,QAAQC,GAAG,CAACC,QAAQ,KAAK;YACjCoC,MAAM;YACN,GAAIhG,QAAQuF,MAAM,KAAKjC,YAClB;gBAAEiC,QAAQvF,QAAQuF,MAAM;YAAC,IAC1BjC,SAAS;YACb,GAAItD,QAAQgG,IAAI,KAAK1C,YAChB;gBAAE0C,MAAMhG,QAAQgG,IAAI;YAAC,IACtB1C,SAAS;QACf;QACAmC,UAAU3E,iCAA0B,EAAEsE,SAAS;YAC7CS,UAAU,IAAI;YACdC,UAAUpC,QAAQC,GAAG,CAACC,QAAQ,KAAK,gBAAgB,SAAS,KAAK;YACjEmC,QAAQrC,QAAQC,GAAG,CAACC,QAAQ,KAAK;YACjCoC,MAAM;YACN,GAAIhG,QAAQuF,MAAM,KAAKjC,YAClB;gBAAEiC,QAAQvF,QAAQuF,MAAM;YAAC,IAC1BjC,SAAS;YACb,GAAItD,QAAQgG,IAAI,KAAK1C,YAChB;gBAAE0C,MAAMhG,QAAQgG,IAAI;YAAC,IACtB1C,SAAS;QACf;KACD;IACD,OAAOvD;AACT;AAEA,eAAekG,WACbC,OAAe,EACfC,IAEC,EACDrG,GAAoB,EACpBsG,OAAmB,EACnB;IACA,IAAI,OAAOF,YAAY,YAAY,CAACA,QAAQG,UAAU,CAAC,MAAM;QAC3D,MAAM,IAAInB,MACR,CAAC,qFAAqF,EAAEgB,QAAQ,CAAC,EAClG;IACH,CAAC;IACD,MAAMI,oBAAiC;QACrC,CAACC,uCAA2B,CAAC,EAAEH,QAAQ3F,aAAa;QACpD,GAAI0F,KAAKK,sBAAsB,GAC3B;YACE,CAACC,sDAA0C,CAAC,EAAE;QAChD,IACA,CAAC,CAAC;IACR;IACA,MAAMC,8BAA8B;WAC9BN,QAAQM,2BAA2B,IAAI,EAAE;WACzCN,QAAQO,eAAe,GACvB;YAAC;YAAU;SAA6B,GACxC,EAAE;KACP;IAED,KAAK,MAAMC,OAAOhF,OAAOiF,IAAI,CAAC/G,IAAIO,OAAO,EAAG;QAC1C,IAAIqG,4BAA4BrC,QAAQ,CAACuC,MAAM;YAC7CN,iBAAiB,CAACM,IAAI,GAAG9G,IAAIO,OAAO,CAACuG,IAAI;QAC3C,CAAC;IACH;IAEA,IAAI;QACF,IAAIR,QAAQO,eAAe,EAAE;YAC3B,MAAM5G,MAAM,MAAM+G,MAAM,CAAC,QAAQ,EAAEhH,IAAIO,OAAO,CAAC0G,IAAI,CAAC,EAAEb,QAAQ,CAAC,EAAE;gBAC/Dc,QAAQ;gBACR3G,SAASiG;YACX;YACA,gEAAgE;YAChE,qEAAqE;YACrE,gEAAgE;YAChE,MAAMW,cACJlH,IAAIM,OAAO,CAACK,GAAG,CAAC,qBAAqBX,IAAIM,OAAO,CAACK,GAAG,CAAC;YAEvD,IACEuG,CAAAA,sBAAAA,KAAAA,IAAAA,YAAaC,WAAW,QAAO,iBAC/B,CAAEnH,CAAAA,IAAIoH,MAAM,KAAK,OAAOhB,KAAKK,sBAAsB,AAAD,GAClD;gBACA,MAAM,IAAItB,MAAM,CAAC,iBAAiB,EAAEnF,IAAIoH,MAAM,CAAC,CAAC,EAAC;YACnD,CAAC;QACH,OAAO,IAAIf,QAAQH,UAAU,EAAE;YAC7B,MAAMmB,SAASC,IAAAA,uCAA0B,EAAC;gBACxCtD,KAAKmC;gBACL7F,SAASiG;YACX;YAEA,MAAMF,QAAQH,UAAU,CAACmB,OAAOtH,GAAG,EAAEsH,OAAOrH,GAAG;YAC/C,MAAMqH,OAAOrH,GAAG,CAACuH,WAAW;YAE5B,IACEF,OAAOrH,GAAG,CAACiE,SAAS,CAAC,sBAAsB,iBAC3C,CAAEoD,CAAAA,OAAOrH,GAAG,CAACyD,UAAU,KAAK,OAAO2C,KAAKK,sBAAsB,AAAD,GAC7D;gBACA,MAAM,IAAItB,MAAM,CAAC,iBAAiB,EAAEkC,OAAOrH,GAAG,CAACyD,UAAU,CAAC,CAAC,EAAC;YAC9D,CAAC;QACH,OAAO;YACL,MAAM,IAAI0B,MACR,CAAC,sEAAsE,CAAC,EACzE;QACH,CAAC;IACH,EAAE,OAAOqC,KAAc;QACrB,MAAM,IAAIrC,MACR,CAAC,qBAAqB,EAAEgB,QAAQ,EAAE,EAAEtD,IAAAA,gBAAO,EAAC2E,OAAOA,IAAIC,OAAO,GAAGD,GAAG,CAAC,CAAC,EACvE;IACH;AACF;AAEO,eAAe1H,YACpBC,GAAoB,EACpBC,GAAmB,EACnB0H,KAAU,EACVC,cAAmB,EACnBC,UAAsB,EACtBC,cAAuB,EACvBC,GAAa,EACbC,IAAa,EACE;IACf,MAAMC,SAASjI;IACf,MAAMkI,SAASjI;IAEf,IAAI;YAOiBkI,aACGA,cACGA,cAwEzBC;QAhFA,IAAI,CAACR,gBAAgB;YACnB3H,IAAIyD,UAAU,GAAG;YACjBzD,IAAIwD,GAAG,CAAC;YACR;QACF,CAAC;QACD,MAAM0E,SAAqBP,eAAeO,MAAM,IAAI,CAAC;QACrD,MAAME,aAAaF,CAAAA,CAAAA,cAAAA,OAAOG,GAAG,YAAVH,KAAAA,IAAAA,YAAYE,UAAU,AAAD,MAAM,KAAK;QACnD,MAAMjF,gBAAgB+E,CAAAA,CAAAA,eAAAA,OAAOG,GAAG,YAAVH,KAAAA,IAAAA,aAAY/E,aAAa,AAAD,KAAK,IAAI;QACvD,MAAMmF,mBAAmBJ,CAAAA,CAAAA,eAAAA,OAAOG,GAAG,YAAVH,KAAAA,IAAAA,aAAYI,gBAAgB,AAAD,KAAK,KAAK;QAE9D,qBAAqB;QACrBC,IAAAA,kBAAW,EAAC;YAAExI,KAAKiI;QAAO,GAAG,WAAWQ,IAAAA,sBAAe,EAACzI,IAAIO,OAAO;QACnE,uBAAuB;QACvB0H,OAAON,KAAK,GAAGA;QACf,uBAAuB;QACvBa,IAAAA,kBAAW,EAAC;YAAExI,KAAKiI;QAAO,GAAG,eAAe,IAC1CpI,kBAAkBG,KAAKC,KAAK4H;QAE9B,sCAAsC;QACtCW,IAAAA,kBAAW,EAAC;YAAExI,KAAKiI;QAAO,GAAG,WAAW,IACtCA,OAAOS,WAAW,KAAK,KAAK,GAAG,IAAI,GAAGlF,SAAS;QAGjD,kBAAkB;QAClB,IAAI6E,cAAc,CAACJ,OAAOlF,IAAI,EAAE;YAC9BkF,OAAOlF,IAAI,GAAG,MAAMjD,UAClBmI,QACAE,OAAOG,GAAG,IAAIH,OAAOG,GAAG,CAACD,UAAU,IAAIF,OAAOG,GAAG,CAACD,UAAU,CAACM,SAAS,GAClER,OAAOG,GAAG,CAACD,UAAU,CAACM,SAAS,GAC/B,KAAK;QAEb,CAAC;QAED,IAAIC,gBAAgB;QACpB,MAAMC,mBAAmB1F,oBAAoBC;QAC7C,MAAM0F,YAAYZ,OAAOa,KAAK;QAC9B,MAAMC,cAAcd,OAAOzE,GAAG;QAC9ByE,OAAOa,KAAK,GAAG,CAAC,GAAGE,OAAiB;YAClCL,iBAAiBnH,OAAOqD,UAAU,CAACmE,IAAI,CAAC,EAAE,IAAI;YAC9C,OAAOH,UAAUI,KAAK,CAAChB,QAAQe;QACjC;QACAf,OAAOzE,GAAG,GAAG,CAAC,GAAGwF,OAAiB;YAChC,IAAIA,KAAK9G,MAAM,IAAI,OAAO8G,IAAI,CAAC,EAAE,KAAK,YAAY;gBAChDL,iBAAiBnH,OAAOqD,UAAU,CAACmE,IAAI,CAAC,EAAE,IAAI;YAChD,CAAC;YAED,IAAI7F,iBAAiBwF,iBAAiBC,kBAAkB;gBACtD9E,QAAQC,IAAI,CACV,CAAC,iBAAiB,EAAEhE,IAAIiE,GAAG,CAAC,SAAS,EAAEZ,cAAK,CAAC8F,MAAM,CACjDN,kBACA,0GAA0G,CAAC;YAEjH,CAAC;YAEDG,YAAYE,KAAK,CAAChB,QAAQe;QAC5B;QACAf,OAAOb,MAAM,GAAG,CAAC3D,aAAe0F,IAAAA,qBAAc,EAAClB,QAAQxE;QACvDwE,OAAOjD,IAAI,GAAG,CAACtD,OAAS4B,SAAS0E,QAAQC,QAAQvG;QACjDuG,OAAOmB,IAAI,GAAG,CAAC1H,OAASoD,SAASmD,QAAQvG;QACzCuG,OAAOoB,QAAQ,GAAG,CAACC,aAA8BtF,MAC/CqF,IAAAA,eAAQ,EAACpB,QAAQqB,aAAatF;QAChCiE,OAAO/C,cAAc,GAAG,CAACxD,MAAMzB,UAAU,CAAC,CAAC,GACzCiF,eAAe+C,QAAQvG,MAAMG,OAAO0H,MAAM,CAAC,CAAC,GAAG3B,YAAY3H;QAC7DgI,OAAOjH,gBAAgB,GAAG,CAACf,UAAU,CAAC,CAAC,GACrCe,IAAAA,uBAAgB,EAACiH,QAAQhI;QAC3BgI,OAAO/B,UAAU,GAAG,CAClBC,SACAC,OAGGF,WAAWC,SAASC,QAAQ,CAAC,GAAGrG,KAAK6H;QAE1C,MAAM4B,WAAWC,IAAAA,8BAAc,EAAC9B;QAChC,IAAI+B,WAAW,KAAK;QAEpB,IAAI/F,QAAQC,GAAG,CAACC,QAAQ,KAAK,cAAc;YACzC,uDAAuD;YACvD7D,IAAI2J,IAAI,CAAC,QAAQ,IAAOD,WAAW,IAAI;QACzC,CAAC;QAEDvB,CAAAA,mCAAAA,IAAAA,iBAAS,IAAGyB,qBAAqB,cAAjCzB,KAAAA,IAAAA,iCAAqC0B,IAAI,cAAc9B;QACvD,wBAAwB;QACxB,MAAM+B,iBAAiB,MAAM3B,IAAAA,iBAAS,IAAG4B,KAAK,CAC5CC,mBAAQ,CAACC,UAAU,EACnB;YACEC,UAAU,CAAC,4BAA4B,EAAEnC,KAAK,CAAC;QACjD,GACA,IAAMyB,SAASzJ,KAAKC;QAGtB,IAAI2D,QAAQC,GAAG,CAACC,QAAQ,KAAK,cAAc;YACzC,IAAI,OAAOiG,mBAAmB,aAAa;gBACzC,IAAIA,0BAA0BK,UAAU;oBACtC,MAAM,IAAIhF,MACR,gLACD;gBACH,CAAC;gBACDrB,QAAQC,IAAI,CACV,CAAC,gDAAgD,EAAE,OAAO+F,eAAe,CAAC,CAAC;YAE/E,CAAC;YAED,IAAI,CAACxB,oBAAoB,CAAC8B,IAAAA,gBAAS,EAACpK,QAAQ,CAAC0J,UAAU;gBACrD5F,QAAQC,IAAI,CACV,CAAC,4CAA4C,EAAEhE,IAAIiE,GAAG,CAAC,sCAAsC,CAAC;YAElG,CAAC;QACH,CAAC;IACH,EAAE,OAAOwD,KAAK;QACZ,IAAIA,eAAepF,eAAQ,EAAE;YAC3BiI,IAAAA,gBAAS,EAACpC,QAAQT,IAAI/D,UAAU,EAAE+D,IAAIC,OAAO;QAC/C,OAAO;YACL,IAAIK,KAAK;gBACP,IAAIjF,IAAAA,gBAAO,EAAC2E,MAAM;oBAChBA,IAAIO,IAAI,GAAGA;gBACb,CAAC;gBACD,MAAMP,IAAG;YACX,CAAC;YAED1D,QAAQwG,KAAK,CAAC9C;YACd,IAAIK,gBAAgB;gBAClB,MAAML,IAAG;YACX,CAAC;YACD6C,IAAAA,gBAAS,EAACpC,QAAQ,KAAK;QACzB,CAAC;IACH;AACF"}