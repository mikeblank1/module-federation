{"version":3,"sources":["../../../../src/server/web/sandbox/context.ts"],"names":["clearModuleContext","getModuleContext","WEBPACK_HASH_REGEX","moduleContexts","Map","pendingModuleCaches","path","content","handleContext","key","cache","context","prev","paths","get","replace","toString","delete","loadWasm","wasm","modules","Promise","all","map","binding","module","WebAssembly","compile","fs","readFile","filePath","name","buildEnvironmentVariablesFrom","keys","pairs","process","env","Object","fromEntries","NEXT_RUNTIME","throwUnsupportedAPIError","error","Error","decorateServerError","COMPILER_NAMES","edgeServer","createProcessPolyfill","options","processPolyfill","overridenValue","defineProperty","undefined","set","value","enumerable","addStub","getDecorateUnhandledError","runtime","EdgeRuntimeError","evaluate","getDecorateUnhandledRejection","rejected","reason","NativeModuleMap","mods","pick","BufferImplementation","EventsImplementation","AsyncHooksImplementation","AssertImplementation","UtilImplementation","entries","createModuleContext","warnedEvals","Set","warnedWasmCodegens","edgeFunctionEntry","EdgeRuntime","codeGeneration","NODE_ENV","strings","extend","id","TypeError","__next_eval__","fn","has","warning","getServerError","captureStackTrace","add","onWarning","__next_webassembly_compile__","__next_webassembly_instantiate__","result","instantiatedFromBuffer","hasOwnProperty","__fetch","fetch","input","init","callingError","assetResponse","fetchInlineAsset","assets","distDir","headers","Headers","prevs","split","concat","moduleName","join","response","url","String","catch","err","message","stack","__Request","Request","constructor","validateURL","next","__redirect","Response","redirect","bind","args","EDGE_UNSUPPORTED_NODE_APIS","assign","AsyncLocalStorage","decorateUnhandledError","addEventListener","decorateUnhandledRejection","getModuleContextShared","deferredModuleContext","lazyModuleContext","useCache","moduleContext","evaluateInContext","filepath","readFileSync","runInContext","filename"],"mappings":"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"}